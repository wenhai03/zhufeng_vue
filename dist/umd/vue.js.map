{"version":3,"file":"vue.js","sources":["../../src/observe/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["\nclass Observer {\n  constructor (value) {\n    // 使用defineProperty重新定义属性\n    this.walk(value)\n  }\n  walk (data) {\n    let keys = Object.keys(data) // 获取对象的key\n  \n    keys.forEach(key  => {\n      defineReactive(data, key, data[key])\n    })\n  }\n}\n\n// 封装 继承\nfunction defineReactive (data, key, value) {\n  observe(value) // 如果是对象类型再进行观测(递归)\n  Object.defineProperty(data, key,{\n    get () {\n      console.log('用户获取值了')\n      return value\n    },\n    set (newValue) {\n      console.log('用户设置值了')\n      if (newValue === value) return\n      observe(newValue) // 如果用户将值改成对象继续监控\n      value = newValue\n    }\n  })\n}\n\nexport function observe(data){\n  // typeof null 也是 object\n  // 不能不是对象 并且不是null\n  if (typeof data !== 'object' || data == null) {\n    return\n  }\n  return new Observer(data)\n  \n}\n","import {observe} from \"./observe/index\"\n\nfunction initProps (vm) {\n\n}\n\nfunction initMethod (vm) {\n\n}\n\nfunction initData (vm) {\n  // 数据初始化工作\n  let data = vm.$options.data // 用户传递的data\n  vm._data = data = typeof data === 'function' ? data.call(vm) : data\n  // 对象劫持 用户改变了数据 我希望可以得到通知 => 刷新页面\n  // MVVM模式 数据变化可以驱动视图变化\n  // Object.defineProperty() 给属性增加get和set方法\n  observe(data) // 响应式原理\n  \n}\n\nfunction initWatch (vm) {\n\n}\n\nfunction initComputed (vm) {\n\n}\n\nexport function initState (vm) {\n  const opts = vm.$options\n  // vue的数据来源 属性 方法 数据 计算属性 watch\n  if (opts.props) {\n    initProps(vm)\n  }\n  if (opts.methods) {\n    initMethod(vm)\n  }\n  if (opts.data) {\n    initData(vm)\n  }\n  if (opts.computed) {\n    initComputed(vm)\n  }\n  if (opts.watch) {\n    initWatch(vm)\n  }\n}\n","import {initState} from './state'\n\n// 在原型上添加一个init方法\nexport function initMixin(Vue) {\n  // 初始化流程\n  Vue.prototype._init = function (options) {\n    \n    // 数据的劫持\n    const vm = this // vue中使用 this.$options 指代的就是用户传递的属性\n    vm.$options = options\n    \n    // 初始化状态\n    initState(vm) // 分割代码\n  }\n}\n","// Vue的核心代码 只是Vue的一个声明\nimport {initMixin} from './init'\n\nfunction Vue(options) {\n  // 进行Vue的初始化操作\n  this._init(options)\n}\n\n// 通过引入文件的方式 给Vue原型上添加方法\ninitMixin(Vue)\n\nexport default Vue\n"],"names":[],"mappings":";;;;;;EACA,MAAM,QAAQ,CAAC;EACf,EAAE,WAAW,CAAC,CAAC,KAAK,EAAE;EACtB;EACA,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC;EACpB,GAAG;EACH,EAAE,IAAI,CAAC,CAAC,IAAI,EAAE;EACd,IAAI,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAC;EAChC;EACA,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,KAAK;EACzB,MAAM,cAAc,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAC;EAC1C,KAAK,EAAC;EACN,GAAG;EACH,CAAC;AACD;EACA;EACA,SAAS,cAAc,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE;EAC3C,EAAE,OAAO,CAAC,KAAK,EAAC;EAChB,EAAE,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC;EAClC,IAAI,GAAG,CAAC,GAAG;EACX,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAC;EAC3B,MAAM,OAAO,KAAK;EAClB,KAAK;EACL,IAAI,GAAG,CAAC,CAAC,QAAQ,EAAE;EACnB,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAC;EAC3B,MAAM,IAAI,QAAQ,KAAK,KAAK,EAAE,MAAM;EACpC,MAAM,OAAO,CAAC,QAAQ,EAAC;EACvB,MAAM,KAAK,GAAG,SAAQ;EACtB,KAAK;EACL,GAAG,EAAC;EACJ,CAAC;AACD;EACO,SAAS,OAAO,CAAC,IAAI,CAAC;EAC7B;EACA;EACA,EAAE,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,IAAI,IAAI,IAAI,EAAE;EAChD,IAAI,MAAM;EACV,GAAG;EACH,EAAE,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC;EAC3B;EACA;;EC9BA,SAAS,QAAQ,EAAE,EAAE,EAAE;EACvB;EACA,EAAE,IAAI,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC,KAAI;EAC7B,EAAE,EAAE,CAAC,KAAK,GAAG,IAAI,GAAG,OAAO,IAAI,KAAK,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,KAAI;EACrE;EACA;EACA;EACA,EAAE,OAAO,CAAC,IAAI,EAAC;EACf;EACA,CAAC;AASD;EACO,SAAS,SAAS,EAAE,EAAE,EAAE;EAC/B,EAAE,MAAM,IAAI,GAAG,EAAE,CAAC,SAAQ;EAC1B;EACA,EAAE,IAAI,IAAI,CAAC,KAAK,EAAE,CAEf;EACH,EAAE,IAAI,IAAI,CAAC,OAAO,EAAE,CAEjB;EACH,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE;EACjB,IAAI,QAAQ,CAAC,EAAE,EAAC;EAChB,GAAG;EACH,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,CAElB;EACH,EAAE,IAAI,IAAI,CAAC,KAAK,EAAE,CAEf;EACH;;EC7CA;EACO,SAAS,SAAS,CAAC,GAAG,EAAE;EAC/B;EACA,EAAE,GAAG,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,OAAO,EAAE;EAC3C;EACA;EACA,IAAI,MAAM,EAAE,GAAG,KAAI;EACnB,IAAI,EAAE,CAAC,QAAQ,GAAG,QAAO;EACzB;EACA;EACA,IAAI,SAAS,CAAC,EAAE,EAAC;EACjB,IAAG;EACH;;ECdA;AAEA;EACA,SAAS,GAAG,CAAC,OAAO,EAAE;EACtB;EACA,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,EAAC;EACrB,CAAC;AACD;EACA;EACA,SAAS,CAAC,GAAG;;;;;;;;"}